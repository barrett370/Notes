<!DOCTYPE html>
<html>

<head>
    
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer">
<meta name="description" content="My University Notes Site.">
<title>
 - Welcome to my Notes Repo!
</title>




<link rel="shortcut icon" href="../../../sam.ico">








<link rel="stylesheet" href="../../../css/main.min.81bbafc4df93b11c1c3e2449464373c384aa4903731b4fc7a77dfcdd979e184f.css" integrity="sha256-gbuvxN&#43;TsRwcPiRJRkNzw4SqSQNzG0/Hp3383ZeeGE8=" crossorigin="anonymous" media="screen">



 

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Didact+Gothic">

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://sam-barrett.codes/Notes/tn.png"/>

<meta name="twitter:title" content=""/>
<meta name="twitter:description" content="Lecture 4  Lecture 4  Threads Threads in Java  Creating a Thread Example of a Runnable Class Instantiating a Thread  Monitors Concurrent access Queue Implementation Mutual Exclusion Waiting Spinning Blocking The wait() method  Usage  Awakening Thread local data Thread local data in Java  Thread local methods  Thread local IDs   Threads  Execute a sequential series of instructions You can tell a thread  What to do When to start  You can  Wait for it to finish Interrupt it Give it priority over other threads   Threads in Java  Implemented in the java."/>

<meta property="og:title" content="" />
<meta property="og:description" content="Lecture 4  Lecture 4  Threads Threads in Java  Creating a Thread Example of a Runnable Class Instantiating a Thread  Monitors Concurrent access Queue Implementation Mutual Exclusion Waiting Spinning Blocking The wait() method  Usage  Awakening Thread local data Thread local data in Java  Thread local methods  Thread local IDs   Threads  Execute a sequential series of instructions You can tell a thread  What to do When to start  You can  Wait for it to finish Interrupt it Give it priority over other threads   Threads in Java  Implemented in the java." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://sam-barrett.codes/Notes/modules/parallel-distributed/source/parallel-dist-lecture4.html" />

<meta property="og:image" content="https://sam-barrett.codes/Notes/tn.png" />
<meta property="og:site_name" content="Notes" />


    

    
    
    
    <title>
        
        
        
    </title>
</head>

<body>
    <div class="wrap">
        <div class="section" id="title"></div>

        <div class="section" id="content">

<h1 id="lecture-4">Lecture 4</h1>

<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->

<!-- code_chunk_output -->

<ul>
<li><a href="#lecture-4">Lecture 4</a>

<ul>
<li><a href="#threads">Threads</a></li>
<li><a href="#threads-in-java">Threads in Java</a>

<ul>
<li><a href="#creating-a-thread">Creating a Thread</a></li>
<li><a href="#example-of-a-runnable-class">Example of a Runnable Class</a></li>
<li><a href="#instantiating-a-thread">Instantiating a Thread</a></li>
</ul></li>
<li><a href="#monitors">Monitors</a></li>
<li><a href="#concurrent-access-queue-implementation">Concurrent access Queue Implementation</a></li>
<li><a href="#mutual-exclusion">Mutual Exclusion</a></li>
<li><a href="#waiting">Waiting</a></li>
<li><a href="#spinning">Spinning</a></li>
<li><a href="#blocking">Blocking</a></li>
<li><a href="#the-wait-method">The <code>wait()</code> method</a>

<ul>
<li><a href="#usage">Usage</a></li>
</ul></li>
<li><a href="#awakening">Awakening</a></li>
<li><a href="#thread-local-data">Thread local data</a></li>
<li><a href="#thread-local-data-in-java">Thread local data in Java</a>

<ul>
<li><a href="#thread-local-methods">Thread local methods</a></li>
</ul></li>
<li><a href="#thread-local-ids">Thread local IDs</a></li>
</ul></li>
</ul>

<!-- /code_chunk_output -->

<h2 id="threads">Threads</h2>

<ul>
<li>Execute a sequential series of instructions</li>
<li>You can <em>tell</em> a thread

<ul>
<li>What to do</li>
<li>When to start</li>
</ul></li>
<li>You can

<ul>
<li>Wait for it to finish</li>
<li>Interrupt it</li>
<li>Give it priority over other threads</li>
</ul></li>
</ul>

<h3 id="threads-in-java">Threads in Java</h3>

<ul>
<li>Implemented in the <code>java.lang.Thread</code> class</li>
</ul>

<p>Each thread must have a method:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">run</span>(){...}</code></pre></div>
<ul>
<li>This method executes when the thread is started</li>
<li>The thread <em>vanishes</em> when it returns</li>
<li>You must implement this method.</li>
</ul>

<h4 id="creating-a-thread">Creating a Thread</h4>

<ul>
<li>Create a <code>Runnable</code> object

<ul>
<li><code>Runnable</code> is an interface</li>
<li>Requires a <code>run()</code> method to me implemented</li>
</ul></li>
<li>Pass <code>Runnable</code> object to thread constructor</li>
</ul>

<h5 id="example-of-a-runnable-class">Example of a Runnable Class</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#a6e22e">class</span> Hello <span style="color:#a6e22e">implements</span> Runnable {
    String <span style="color:#a6e22e">message</span>;
    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Hello</span>(String <span style="color:#a6e22e">m</span>){
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">message</span> <span style="color:#f92672">=</span> m;
    }

    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">void</span> run(){
        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">message</span>);
    }
}</code></pre></div>
<ul>
<li>Where:

<ul>
<li>By the implementation of <code>Runnable</code> requires the implementation of the <code>run()</code> method.</li>
</ul></li>
</ul>

<h5 id="instantiating-a-thread">Instantiating a Thread</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">String <span style="color:#a6e22e">m</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Hello from &#34;</span> <span style="color:#f92672">+</span> i; 
Runnable <span style="color:#a6e22e">h</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Hello(m)
Thread <span style="color:#a6e22e">t</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Thread(h)</code></pre></div>
<p>However this is very verbose and can be streamlined using Java&rsquo;s <em>anonymous inner class</em> syntax.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">t <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Thread(
        <span style="color:#66d9ef">new</span> Runnable() {
            <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">void</span> run() {
                System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(m);
            }
        }
);</code></pre></div>
<p>This can be streamlined furter still by using Java&rsquo;s <em>lambda</em> functions:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">t <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Thread(
        () <span style="color:#f92672">-&gt;</span> {
            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(m);
        }
)</code></pre></div>
<p>Starting a thread can be achieved using the method <code>t.start();</code>
Similarly, joining a thread is possible through <code>t.join();</code></p>

<h2 id="monitors">Monitors</h2>

<ul>
<li><strong>Every</strong> java object has an implicit lock</li>
<li>Managed by the <code>syncronized</code> modifier on methods and code blocks.</li>
</ul>

<h3 id="concurrent-access-queue-implementation">Concurrent access Queue Implementation</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#a6e22e">class</span> Queue<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span>{
    <span style="color:#66d9ef">private</span> <span style="color:#a6e22e">static</span> <span style="color:#66d9ef">final</span> <span style="color:#a6e22e">int</span> QSIZE <span style="color:#f92672">=</span> 10;
    <span style="color:#66d9ef">private</span> <span style="color:#a6e22e">QueueObject</span><span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">head</span>;
    <span style="color:#66d9ef">private</span> <span style="color:#a6e22e">QueueObject</span><span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">tail</span>;
    <span style="color:#66d9ef">private</span> <span style="color:#a6e22e">int</span> item_count;

    Queue() {
        item_count <span style="color:#f92672">=</span> 0;
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">head</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">tail</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
    }

    <span style="color:#66d9ef">private</span> <span style="color:#a6e22e">boolean</span> isEmpty() {
        <span style="color:#66d9ef">return</span> head <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span>;
    }

    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">synchronized</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">enq</span>(T <span style="color:#a6e22e">x</span>) <span style="color:#66d9ef">throws</span> <span style="color:#a6e22e">InterruptedException</span> {
        <span style="color:#66d9ef">while</span> (item_count <span style="color:#f92672">==</span> QSIZE) { <span style="color:#75715e">//while full
</span><span style="color:#75715e"></span>            wait();
        }

        QueueObject<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">newItem</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> QueueObject<span style="color:#f92672">&lt;&gt;</span>(x);
        <span style="color:#66d9ef">if</span> (isEmpty()) {
            <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">head</span> <span style="color:#f92672">=</span> newItem;
            <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">tail</span> <span style="color:#f92672">=</span> newItem;
        } <span style="color:#66d9ef">else</span> {
            <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">tail</span>.<span style="color:#a6e22e">setNext</span>(newItem);
            <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">tail</span> <span style="color:#f92672">=</span> newItem;
        }
        notifyAll(); <span style="color:#75715e">//let dequeuers know there are now items to dequeue
</span><span style="color:#75715e"></span>        item_count<span style="color:#f92672">++</span>;
    }

    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">synchronized</span> T <span style="color:#a6e22e">deq</span>() <span style="color:#66d9ef">throws</span> <span style="color:#a6e22e">InterruptedException</span> {
        <span style="color:#66d9ef">while</span> (isEmpty()) { <span style="color:#75715e">//while empty
</span><span style="color:#75715e"></span>            wait();
        }

        QueueObject<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">ret</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">head</span>;
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">head</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">head</span>.<span style="color:#a6e22e">getNext</span>();

        item_count<span style="color:#f92672">--</span>;
        notifyAll(); <span style="color:#75715e">//let enqueuers know that there is definitely space now
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">return</span> ret.<span style="color:#a6e22e">getVal</span>();

    }


}

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">QueueObject</span><span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span> {
    <span style="color:#66d9ef">private</span> <span style="color:#a6e22e">T</span> val;

    T <span style="color:#a6e22e">getVal</span>() {
        <span style="color:#66d9ef">return</span> val;
    }

    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setNext</span>(QueueObject<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">next</span>) {
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">next</span> <span style="color:#f92672">=</span> next;
    }

    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">QueueObject</span><span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">getNext</span>() {
        <span style="color:#66d9ef">return</span> next;
    }

    <span style="color:#66d9ef">private</span> <span style="color:#a6e22e">QueueObject</span><span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">next</span>;

    QueueObject(T <span style="color:#a6e22e">val</span>) {
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">next</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">val</span> <span style="color:#f92672">=</span> val;
    }
}</code></pre></div>
<ul>
<li>This implementation features <em>generics</em> and as such will work with objects of any type.</li>
<li>This is an object-pointer based queue implementation. For a more detailed implementation see my <a href="https://github.com/barrett370/Y2-Functional/blob/master/Revision/A4.ml">functional repository from Year 2</a></li>
</ul>

<p>This is an optimal implementation and satisfies the following:</p>

<h2 id="mutual-exclusion">Mutual Exclusion</h2>

<ul>
<li>Only one thread modifying queue fields at a time</li>
<li>Achieved using <code>syncronised</code> methods

<ul>
<li>locks object on call</li>
<li>releases lock on return</li>
<li>code in the syncronised method / code block is known as the <em>critical section</em></li>
</ul></li>

<li><p>These can also be placed around specific blocks of code in a method by:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">foo</span>(){
...
syncronized (<span style="color:#66d9ef">this</span>) {
    ...
}
...
}</code></pre></div></li>

<li><p><em>What happens if you lock the same object twice?</em></p>

<ul>
<li>Java does not suffer from deadlocks</li>
<li>Keeps track of number of times locked and unlocked &amp; only releases lock when they even out.</li>
</ul></li>
</ul>

<p>-</p>

<h2 id="waiting">Waiting</h2>

<ul>
<li><em>What if?</em>

<ul>
<li>The enqueuer finds a full queue?</li>
<li>The dequeuer finds an empty queue?</li>
<li>wait for something to happen</li>
</ul></li>
</ul>

<h3 id="spinning">Spinning</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">while</span> (itemCount <span style="color:#f92672">==</span> QSIZE){} <span style="color:#f92672">//</span>wait</code></pre></div>
<ul>
<li><p>Here a condition is retested repeatedly</p>

<ul>
<li>Good for short intervals</li>
<li>as expensive to call the OS</li>
<li>Works <strong>Only on multiprocessors</strong></li>
</ul></li>

<li><p>If spinning occurs inside the critical section of the code, a <strong>deadlock</strong> can occur.</p>

<ul>
<li>If the Enqueuer is waiting for a dequeuer whilst also holding the lock</li>
<li>If the dequeuer is then waiting for the enqueuer to release the lock $\implies$ nothing will ever happen!</li>
</ul></li>
</ul>

<h3 id="blocking">Blocking</h3>

<ul>
<li>Release the lock whilst waiting</li>

<li><p>When <em>something changes</em>, re-aquire the lock then either re-release lock and wait again or finish and return</p></li>

<li><p>Essentially asks the OS to run some other thread</p>

<ul>
<li>Good for longer intervals</li>
<li>Processor can do work whilst this thread is waiting</li>
</ul></li>
</ul>

<h3 id="the-wait-method">The <code>wait()</code> method</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">try</span>{
    q.<span style="color:#a6e22e">wait</span>(); <span style="color:#75715e">// throws InterrupedException 
</span><span style="color:#75715e"></span>} <span style="color:#66d9ef">catch</span> (InterruptedException <span style="color:#a6e22e">e</span>){
    ...
}</code></pre></div>
<ul>
<li>Releases the lock on q</li>
<li>sleeps, giving up the processor</li>
<li>Awakens adn resumes running</li>
<li>re-aquires lock and returns</li>
</ul>

<h4 id="usage">Usage</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">...
<span style="color:#66d9ef">while</span> (item_count <span style="color:#f92672">==</span> QSIZE) { <span style="color:#75715e">//while full
</span><span style="color:#75715e"></span>        wait();
}
...</code></pre></div>
<h3 id="awakening">Awakening</h3>

<ul>
<li><p>For a thread to awaken it must be <em>notified</em> by another thread</p>

<ul>
<li><p>Failure to wakeup a sleeping thread is known as a <em>&ldquo;lost wakeup&rdquo;</em></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">q.<span style="color:#a6e22e">notify</span>();</code></pre></div></li>
</ul></li>

<li><p>Awakens <strong>one</strong> waiting thread</p>

<ul>
<li><p>Which reacquires the lock and returns</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">q.<span style="color:#a6e22e">notifyAll</span>();</code></pre></div></li>
</ul></li>

<li><p>Awakens <strong>all</strong> waiting threads</p>

<ul>
<li>one of which will re-acquire the lock and return</li>
</ul></li>
</ul>

<p><strong>Note: In practice, always use <code>notifyAll()</code> to avoid lost wakeup bugs</strong></p>

<h2 id="thread-local-data">Thread local data</h2>

<ul>
<li>In many of our examples, we assume that threads have unique IDs $\in {1,\cdots,n-1}$</li>
<li>Where do they come from ?</li>
</ul>

<h3 id="thread-local-data-in-java">Thread local data in Java</h3>

<ul>
<li><code>Threadlocal&lt;T&gt;</code> class</li>
<li>No built-in language support</li>
</ul>

<h4 id="thread-local-methods">Thread local methods</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Threadlocal<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">local</span>;
T <span style="color:#a6e22e">x</span> <span style="color:#f92672">=</span> ...;
local.<span style="color:#a6e22e">set</span>(x);</code></pre></div>
<ul>
<li>Changes current threads version of the data, <code>x</code>, other threads are unaffected.</li>

<li><p>Value can be retrieved via:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Threadlocal<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">local</span>;
T <span style="color:#a6e22e">x</span> <span style="color:#f92672">=</span> local.<span style="color:#a6e22e">get</span>();</code></pre></div></li>

<li><p>Thread local variables can be initialised as follows:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">T <span style="color:#a6e22e">x</span> <span style="color:#f92672">=</span> local.<span style="color:#a6e22e">initialValue</span>()</code></pre></div></li>

<li><p>This is implicitly called by <code>get()</code> the first time the thread-local variable is accessed</p></li>
</ul>

<h3 id="thread-local-ids">Thread local IDs</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> <span style="color:#a6e22e">threadMisc</span>;

<span style="color:#66d9ef">public</span> <span style="color:#a6e22e">class</span> ThreadID {
    <span style="color:#66d9ef">private</span> <span style="color:#a6e22e">static</span> <span style="color:#66d9ef">volatile</span> <span style="color:#a6e22e">int</span> nextID <span style="color:#f92672">=</span> 0;

    <span style="color:#66d9ef">private</span> <span style="color:#a6e22e">static</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ThreadLocalID</span> <span style="color:#66d9ef">extends</span> <span style="color:#a6e22e">ThreadLocal</span><span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span>{
        <span style="color:#66d9ef">protected</span> <span style="color:#a6e22e">synchronized</span> Integer <span style="color:#a6e22e">initialValue</span>(){
            <span style="color:#66d9ef">return</span> nextID<span style="color:#f92672">++</span>;
        }
    }

    <span style="color:#66d9ef">private</span> <span style="color:#a6e22e">static</span> ThreadLocalID <span style="color:#a6e22e">threadID</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ThreadLocalID();
    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">static</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">get</span>(){
        <span style="color:#66d9ef">return</span> threadID.<span style="color:#a6e22e">get</span>();
    }
}</code></pre></div>
<ul>
<li>Where:

<ul>
<li><code>nextID</code> is the next ID to assign</li>
<li><code>LocalID</code> is a subclass of <code>ThreadLocal&lt;Integer&gt;</code></li>
<li>And <code>initialValue()</code> is overwritten to provider unique threadIDs</li>
</ul></li>
</ul>
</div>

        
        <div class="section bottom-menu">
<hr />
<p>


    

    
        
            <a href="../../../modules/neural-computation/">Neural Computation</a>
        
    
    
        
            &#183; 
            <a href="../../../modules/machine-learning/">Machine Learning</a>
        
            &#183; 
            <a href="../../../modules/parallel-distributed/">Distributed and Parallel Computing</a>
        
    
    &#183; 
    <a href="https://sam-barrett.codes/Notes/">
        main
    </a>

</p></div>
        

        <div class="section footer"></div>
    </div>
</body>

</html>